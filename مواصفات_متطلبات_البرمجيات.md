# مواصفات متطلبات البرمجيات (SRS)
## نظام إدارة التجارة الإلكترونية

**عنوان المشروع:** نظام شامل لإدارة التجارة الإلكترونية  
**السنة الأكاديمية:** 2025-2026  
**المقرر:** هندسة البرمجيات I  
**إصدار المستند:** 1.0  
**التاريخ:** 10-1-2026

---

## جدول المحتويات

1. [المقدمة](#1-المقدمة)
2. [الوصف العام](#2-الوصف-العام)
3. [المتطلبات الوظيفية](#3-المتطلبات-الوظيفية)
4. [المتطلبات غير الوظيفية](#4-المتطلبات-غير-الوظيفية)
5. [التحسينات المستقبلية (خارج النطاق)](#5-التحسينات-المستقبلية-خارج-النطاق)

---

## 1. المقدمة

### 1.1 الهدف
يوفر هذا المستند مواصفات متطلبات برمجيات (SRS) شاملة لنظام إدارة تجارة إلكترونية كامل مصمم لأتمتة جميع العمليات التجارية لمتجر تجزئة كبير في الجمهورية العربية السورية. يهدف النظام إلى رقمنة سير العمل التجاري بالكامل من عرض المنتجات إلى إدارة المستودعات، تنفيذ الطلبات، والعمليات المالية.

### 1.2 النطاق
يتضمن النظام تطبيقين رئيسيين:
- **تطبيق العملاء (Mobile/Web)**: للمستخدمين النهائيين لتصفح المنتجات والبحث عنها وشرائها
- **لوحة الإدارة (Web Application)**: لمديري النظام والموظفين لإدارة جميع جوانب العمل

### 1.3 السياق التجاري
صُمم النظام لمتجر تجزئة كبير يتصف بـ:
- مبيعات يومية تتجاوز 1,000 معاملة
- فئات منتجات متنوعة (إلكترونيات، أغذية، مستلزمات منزلية، منتجات طبية)
- مخزون مستودع كبير
- محافظات سورية متعددة للتوصيل
- الحاجة لأتمتة كاملة وتقليل الزيارات للمتجر الفعلي

---

## 2. الوصف العام

### 2.1 وصف النظام
نظام التجارة الإلكترونية هو منصة شاملة تؤتمت:
- إدارة كتالوج المنتجات
- authentication و authorization للعملاء
- معالجة سلة التسوق والطلبات
- تتبع وإدارة المخزون
- سير عمل تنفيذ الطلبات
- معالجة المعاملات المالية
- إدارة التوصيل والشحن
- إدارة الموظفين والأدوار
- التقارير والتحليلات

### 2.2 وظائف المنتج

توفر هذه القسمة ملخصاً عالي المستوى للوظائف الرئيسية التي يجب على نظام إدارة التجارة الإلكترونية تنفيذها. المواصفات التفصيلية لكل وظيفة مذكورة في القسم 3 (المتطلبات الوظيفية). يتكون النظام من تطبيقين رئيسيين بمناطق وظيفية مميزة كما هو موضح أدناه.

#### 2.2.1 وظائف تطبيق العملاء

**اكتشاف المنتجات والتصفح**
- عرض المنتجات حسب الفئات والعلامات التجارية مع إمكانيات البحث والتصفية والترتيب
- صفحة رئيسية قابلة للتخصيص مع منتجات مميزة ووافدات جديدة وعروض ترويجية
- تباينات المنتجات (الحجم، اللون، إلخ) مع تسعير ومخزون فردي

**Authentication للعملاء**
- authentication موحد عبر رقم الهاتف و OTP
- توجيه المستخدمين الحاليين إلى الشاشة الرئيسية؛ المستخدمين الجدد إلى إعداد الحساب
- إدارة الجلسات

**إدارة سلة التسوق والطلبات**
- إضافة المنتجات إلى السلة، تعديل الكميات، وإزالة العناصر
- وضع الطلبات مع التحقق عبر OTP، اختيار عنوان التوصيل، وحساب الرسوم حسب المحافظة
- عرض سجل الطلبات، تتبع حالة الطلب في الوقت الفعلي، وإعادة طلب الطلبات السابقة
- الكشف التلقائي عن المحافظة لحساب رسوم التوصيل

#### 2.2.2 وظائف لوحة الإدارة

**إدارة المحتوى**
- إدارة الفئات والعلامات التجارية والمنتجات مع تنظيم هرمي
- تخصيص محتوى الصفحة الرئيسية وجدولة العروض الترويجية

**إدارة العملاء والطلبات**
- إنشاء وإدارة حسابات العملاء مع توليد كلمة مرور تلقائي
- عرض وتحديث والبحث في الطلبات عبر مراحل سير العمل المحددة
- إكمال الطلب تلقائياً عند تسجيل الدفع

**إدارة المخزون**
- تتبع المخزون في الوقت الفعلي مع تحديثات تلقائية عند إكمال الطلب
- تنبيهات المخزون المنخفض والتعديلات اليدوية للمخزون
- منع البيع الزائد من خلال فحوصات التوفر

**التوصيل والتقارير**
- إدارة محافظ التوصيل وتكوين الرسوم لكل محافظة
- توليد تقارير المبيعات والتشغيل مع إمكانيات التصدير (PDF, Excel/CSV)
- التحكم في الوصول القائم على الأدوار (RBAC) مع أدوار مخصصة وأذونات دقيقة

#### 2.2.3 العلاقات الوظيفية

المجموعات الوظيفية الرئيسية مترابطة: اكتشاف المنتجات يغذي إدارة سلة التسوق ومعالجة الطلبات. authentication للعملاء مطلوب لعمليات السلة والطلبات. معالجة الطلبات تطلق تحديثات إدارة المخزون. إدارة المحتوى تؤثر على اكتشاف المنتجات. التقارير تجمع البيانات من إدارة الطلبات والمخزون والعملاء. RBAC يتحكم في الوصول لجميع وظائف الإدارة.

سيرسم مخطط تدفق فئات عالي المستوى هذه العلاقات، موضحاً تدفق البيانات من إجراءات العملاء إلى معالجة الإدارة والتحديثات في الوقت الفعلي للعملاء.

### 2.3 معمارية النظام

#### 2.3.1 نظرة عامة على المعمارية
يتبع النظام معمارية ثلاثية الطبقات:
- **طبقة العرض**: تطبيق العملاء ولوحة الإدارة
- **طبقة منطق الأعمال**: خادم التطبيق مع قواعد الأعمال
- **طبقة البيانات**: قاعدة البيانات للتخزين المستمر

#### 2.3.2 حزمة التقنيات (الموصى بها)
- **Frontend**: React/Vue.js أو Flutter (للموبايل)
- **Backend**: Node.js/Laravel
- **قاعدة البيانات**: PostgreSQL/MySQL
- **التخزين المؤقت**: Redis
- **تخزين الملفات**: AWS S3 أو التخزين المحلي
- **بوابة SMS**: التكامل مع مزودي الاتصالات السوريين (سيرياتيل، MTN)

#### 2.3.3 نقاط التكامل
- بوابة SMS لـ OTP والإشعارات
- بوابة الدفع (إن أمكن) مثل سيرياتيل كاش، شام كاش، إلخ
- خدمات GPS/تحديد الموقع الجغرافي
- خدمة البريد الإلكتروني (للإشعارات)

### 2.4 الافتراضات والقيود

#### 2.4.1 الافتراضات
- العملاء لديهم إمكانية الوصول إلى الهواتف الذكية أو أجهزة الكمبيوتر
- اتصال الإنترنت متاح
- خدمات SMS موثوقة ومتاحة
- خدمات GPS/تحديد الموقع الجغرافي متاحة
- سيتم التعامل مع معالجة الدفع (الدفع الفعلي/ شام كاش/ سيرياتيل كاش)

#### 2.4.2 القيود
- يجب دعم المحافظ السورية للتوصيل
- يجب التكامل مع مزودي الاتصالات السوريين (سيرياتيل، MTN)
- يجب الامتثال للوائح المحلية
- محدود بحزمة التقنيات المتاحة

---

## 3. المتطلبات الوظيفية

### 3.1 متطلبات تطبيق العملاء

#### 3.1.1 إدارة المنتجات

**FR-CA-001: عرض المنتجات**
- **الوصف**: يجب على النظام عرض المنتجات منظمة حسب الفئات والعلامات التجارية
- **الأولوية**: عالية
- **التفاصيل**:
  - يجب تنظيم المنتجات في فئات هرمية واضحة
  - يجب ربط المنتجات بالعلامات التجارية
  - يجب أن تتضمن قوائم المنتجات: الاسم، الصورة، السعر، حالة التوفر، التقييم
  - يجب أن تدعم المنتجات صوراً متعددة لكل عنصر
  - يجب عرض كمية المخزون (الكمية المتاحة) في الوقت الفعلي وتحديثها تلقائياً مع تغيرات المخزون

**FR-CA-002: الصفحة الرئيسية الديناميكية**
- **الوصف**: يجب على النظام توفير صفحة رئيسية قابلة للتخصيص يتم إدارتها من لوحة الإدارة
- **الأولوية**: عالية
- **التفاصيل**:
  - يجب أن تعرض الصفحة الرئيسية المنتجات المميزة
  - يجب أن تعرض الصفحة الرئيسية الوافدات الجديدة
  - يجب أن تعرض الصفحة الرئيسية العروض الترويجية
  - يجب أن تعرض الصفحة الرئيسية المنتجات الخاصة/المميزة
  - يجب أن يكون المحتوى قابلاً للتكوين ديناميكياً من قبل المديرين

**FR-CA-003: تصفية المنتجات المتقدمة**
- **الوصف**: يجب على النظام توفير إمكانيات تصفية متقدمة للبحث عن المنتجات
- **الأولوية**: عالية
- **التفاصيل**:
  - التصفية حسب نطاق السعر (الحد الأدنى والأقصى)
  - التصفية حسب الفئة
  - التصفية حسب العلامة التجارية
  - التصفية حسب تقييم العملاء
  - دعم عدة مرشحات متزامنة
  - توفير خيارات الترتيب (السعر، التقييم، تاريخ الإضافة، الشعبية)

**FR-CA-004: تباينات المنتجات**
- **الوصف**: يجب على النظام دعم المنتجات ذات التباينات المتعددة (مثل الحجم، اللون)
- **الأولوية**: عالية
- **التفاصيل**:
  - قد يكون للمنتجات عدة خصائص (الحجم، اللون، المادة، إلخ)
  - يجب أن يكون لكل تباين SKU وسعر ومخزون خاص به
  - يجب أن تكون التباينات قابلة للاختيار في صفحات تفاصيل المنتج
  - يجب تتبع المخزون لكل تباين

**FR-CA-005: بحث المنتجات**
- **الأولوية**: عالية
- **الوصف**: يجب على النظام توفير وظيفة بحث مع الإكمال التلقائي والاقتراحات

#### 3.1.2 Authentication و Authorization للعملاء

**FR-CA-005: User Authentication**
- **الأولوية**: حرجة
- **الوصف**: يجب على جميع العملاء إجراء authentication قبل استخدام التطبيق
- **المتطلبات**:
  - آلية تسجيل دخول آمنة
  - تشفير كلمة المرور
  - إدارة الجلسات

**FR-CA-006: تفعيل كلمة المرور لأول مرة**
- **الوصف**: يجب على العملاء المضافين من قبل المدير تفعيل كلمة مرورهم عند أول تسجيل دخول
- **الأولوية**: عالية
- **التفاصيل**:
  - إذا تم إنشاء الحساب من قبل المدير، يتم إرسال كلمة المرور عبر SMS
  - يتطلب أول تسجيل دخول تغيير كلمة المرور
  - يتم فرض تغيير كلمة المرور قبل الوصول إلى الميزات الأخرى
  - كلمة المرور تلبي متطلبات الأمان (حد أدنى 8 أحرف، مزيج من الأحرف والأرقام)

**FR-CA-007: التحقق من الطلب (OTP)**
- **الوصف**: يجب التحقق من كل طلب عبر OTP قبل المعالجة
- **الأولوية**: عالية
- **التفاصيل**:
  - يتم إرسال OTP إلى رقم الهاتف المسجل
  - OTP صالح لوقت محدود (مثلاً 5 دقائق)
  - لا يتم معالجة الطلب حتى يتم التحقق من OTP
  - الهدف: التحقق من أن رقم الهاتف لا يزال نشطاً ولم يتم إعادة تعيينه من قبل مزود الاتصالات

#### 3.1.3 إدارة سلة التسوق

**FR-CA-008: وظائف سلة التسوق**
- **الوصف**: يجب على النظام السماح للعملاء بإضافة المنتجات إلى سلة التسوق مع إمكانية تعديل الكميات أو إزالة العناصر قبل الشراء
- **الأولوية**: عالية
- **التفاصيل**:
  - إضافة المنتجات إلى السلة
  - تحديث الكميات
  - إزالة العناصر
  - حفظ السلة لاحقاً
  - السلة تبقى عبر الجلسات

**FR-CA-009: صفحة مراجعة السلة**
- **الوصف**: يجب على النظام توفير صفحة سلة تعرض جميع المنتجات المضافة مع الكميات والأسعار والمجموع الكلي
- **الأولوية**: عالية
- **التفاصيل**:
  - حسابات الأسعار في الوقت الفعلي
  - عرض واضح لجميع الرسوم بما في ذلك التوصيل

#### 3.1.4 إدارة الطلبات

**FR-CA-010: وضع الطلب**
- **الوصف**: يجب أن يكون العملاء قادرين على وضع الطلبات من سلة التسوق
- **الأولوية**: حرجة
- **التفاصيل**:
  - مراجعة ملخص الطلب قبل التأكيد
  - تأكيد عنوان التوصيل
  - اختيار محافظة التوصيل (يتم اكتشافها تلقائياً من الموقع)
  - تطبيق رسوم التوصيل حسب المحافظة
  - إكمال معلومات الدفع
  - التحقق من الطلب عبر OTP
  - استلام تأكيد الطلب

**FR-CA-014: سجل الطلبات**
- **الوصف**: يجب أن يكون العملاء قادرين على عرض سجل الطلبات
- **الأولوية**: عالية
- **التفاصيل**:
  - قائمة بجميع الطلبات السابقة
  - عرض تفاصيل الطلب: المنتجات، الكميات، الأسعار، التواريخ
  - عرض حالة الطلب الحالية
  - تصفية الطلبات حسب الحالة
  - البحث في الطلبات حسب نطاق التاريخ أو رقم الطلب

**FR-CA-015: تتبع حالة الطلب**
- **الوصف**: يجب أن يكون العملاء قادرين على تتبع حالة الطلب في الوقت الفعلي
- **الأولوية**: عالية
- **التفاصيل**:
  - عرض حالة الطلب الحالية: قيد الانتظار، قيد التحضير، في الطريق للتوصيل، تم التوصيل، مكتمل
  - عرض تاريخ الحالة مع الطوابع الزمنية
  - استلام الإشعارات عند تغيرات الحالة

**FR-CA-016: وظيفة إعادة الطلب**
- **الوصف**: يجب أن يكون العملاء قادرين على إعادة طلب الطلبات السابقة بنقرة واحدة
- **الأولوية**: متوسطة
- **التفاصيل**:
  - زر "إعادة الطلب" على الطلبات السابقة
  - نسخ جميع العناصر من الطلب السابق إلى السلة الحالية
  - السماح بالتعديل قبل الدفع
  - التحقق من التوفر الحالي قبل الإضافة إلى السلة

#### 3.1.5 الموقع والتوصيل

**FR-CA-017: الكشف التلقائي عن الموقع**
- **الوصف**: يجب على النظام اكتشاف محافظة العميل تلقائياً
- **الأولوية**: عالية
- **التفاصيل**:
  - استخدام GPS الجهاز
  - اختيار المحافظة تلقائياً في نموذج التوصيل
  - السماح بالتجاوز اليدوي عند الحاجة
  - حساب رسوم التوصيل حسب المحافظة

---

### 3.2 متطلبات لوحة الإدارة

#### 3.2.1 إدارة المحتوى

**FR-AD-001: إدارة الفئات**
- **الوصف**: يجب أن يكون المديرون قادرين على إدارة فئات المنتجات
- **الأولوية**: عالية
- **التفاصيل**:
  - إنشاء وتعديل وحذف الفئات
  - تنظيم الفئات هرمياً (أب/ابن)
  - رفع صور الفئات
  - تعيين ترتيب عرض الفئات
  - تفعيل/تعطيل الفئات

**FR-AD-002: إدارة العلامات التجارية**
- **الوصف**: يجب أن يكون المديرون قادرين على إدارة العلامات التجارية للمنتجات
- **الأولوية**: عالية
- **التفاصيل**:
  - إنشاء وتعديل وحذف العلامات التجارية
  - رفع شعارات العلامات التجارية
  - ربط العلامات التجارية بالفئات
  - تعيين ترتيب عرض العلامات التجارية

**FR-AD-003: إدارة محتوى الصفحة الرئيسية**
- **الوصف**: يجب أن يكون المديرون قادرين على تخصيص محتوى الصفحة الرئيسية
- **الأولوية**: عالية
- **التفاصيل**:
  - اختيار المنتجات المميزة
  - اختيار تلقائي لمنتجات الوافدات الجديدة
  - إنشاء وإدارة اللافتات الترويجية
  - تعيين ترتيب عرض أقسام الصفحة الرئيسية
  - جدولة المحتوى الترويجي (تواريخ البدء/الانتهاء)

**FR-AD-004: إدارة المنتجات**
- **الوصف**: يجب أن يكون المديرون قادرين على إدارة المنتجات
- **الأولوية**: عالية
- **التفاصيل**:
  - إنشاء وتعديل وحذف المنتجات
  - رفع صور متعددة للمنتج
  - تعيين خصائص وتباينات المنتج
  - تعيين التسعير (السعر الأساسي، سعر البيع) للمنتج أو لكل متغير
  - تعيين المنتجات للفئات والعلامات التجارية
  - تعيين توفر المنتج وتحديثه تلقائياً عند تغيرات المخزون
  - إدارة أوصاف ومواصفات المنتج

**FR-AD-004A: استيراد المنتجات بالكميات**
- **الوصف**: يجب أن يكون المديرون قادرين على استيراد المنتجات والتباينات بكميات كبيرة من ورقة Excel
- **الأولوية**: حرجة
- **التفاصيل**:
  - استيراد المنتجات مع جميع التفاصيل (الاسم، الوصف، الفئة، العلامة التجارية، السعر، الصور، إلخ) من ورقة Excel
  - استيراد تباينات المنتجات (الحجم، اللون، المادة، إلخ) مع SKU وسعر ومخزون فردي لكل تباين
  - دعم ربط أعمدة Excel بحقول المنتج
  - التحقق من البيانات المستوردة (الحقول المطلوبة، أنواع البيانات، التحقق من التنسيق)
  - التعامل مع المنتجات المكررة (تحديث الموجودة أو تخطيها)
  - معاينة البيانات المستوردة قبل الاستيراد النهائي
  - الإبلاغ عن أخطاء الاستيراد وإحصائيات النجاح
  - دعم التراجع عن عمليات الاستيراد الفاشلة
  - يتحقق النظام من تنسيق بيانات Excel ويبلغ عن أي أخطاء في الاستيراد

#### 3.2.2 إدارة العملاء

**FR-AD-005: إنشاء حساب العميل**
- **الوصف**: يجب أن يكون المديرون قادرين على إنشاء حسابات العملاء يدوياً أو استيراد العملاء الحاليين بكميات كبيرة
- **الأولوية**: حرجة
- **التفاصيل**:
  - **الإنشاء اليدوي**:
    - إضافة معلومات العميل: الاسم، رقم الهاتف، البريد الإلكتروني، العنوان
    - توليد كلمة مرور مؤقتة
    - إرسال كلمة المرور عبر SMS للعميل
    - تعيين حالة الحساب (نشط/غير نشط)
    - إضافة ملاحظات حول العميل
  - **الاستيراد بالكميات (لعملاء المتجر الحاليين)**:
    - استيراد تفاصيل العملاء من ورقة Excel (الاسم، رقم الهاتف، البريد الإلكتروني، العنوان)
    - يكمل النظام تلقائياً سير إنشاء الحساب لكل عميل مستورد:
      - يضيف معلومات العميل من بيانات Excel
      - يولد كلمة مرور مؤقتة لكل عميل
      - يرسل كلمة المرور عبر SMS إلى رقم هاتف كل عميل
    - يتم تعيين جميع حسابات العملاء المستوردة تلقائياً إلى حالة **معطلة**
    - تبقى الحسابات معطلة حتى يقوم العميل بتسجيل الدخول وتغيير كلمة المرور المؤقتة (انظر FR-CA-006)
    - يتحقق النظام من تنسيق بيانات Excel ويبلغ عن أي أخطاء في الاستيراد

**FR-AD-006: إدارة حساب العميل**
- **الوصف**: يجب أن يكون المديرون قادرين على إدارة حسابات العملاء الحالية
- **الأولوية**: عالية
- **التفاصيل**:
  - عرض قائمة العملاء مع البحث والمرشحات
  - عرض سجل طلبات العميل
  - تعطيل/تفعيل الحسابات
  - إعادة تعيين كلمات مرور العملاء

#### 3.2.3 إدارة الطلبات

**FR-AD-007: إدارة حالة الطلب**
- **الوصف**: يجب أن يكون المديرون قادرين على تحديث حالة الطلب
- **الأولوية**: عالية
- **التفاصيل**:
  - عرض جميع الطلبات مع المرشحات (الحالة، التاريخ، العميل)
  - تحديث حالة الطلب عبر سير العمل:
    1. **قيد الانتظار**: تم استلام الطلب، في انتظار المعالجة
    2. **قيد التحضير**: الطلب قيد التحضير في المستودع
    3. **في الطريق للتوصيل**: تم إرسال الطلب للتوصيل
    4. **تم التوصيل**: تم توصيل الطلب للعميل
    5. **مكتمل**: تم إكمال الطلب (تلقائياً بعد الدفع)
  - لا يمكن تغيير حالة الطلبات المكتملة أو الملغاة
  - إضافة ملاحظات للطلبات

**FR-AD-008: إكمال الطلب التلقائي**
- **الوصف**: يجب أن تتغير حالة الطلب تلقائياً إلى "مكتمل" بعد تسجيل الدفع
- **الأولوية**: عالية
- **التفاصيل**:
  - عند تسجيل الدفع مع رقم الطلب والمبلغ المطابق
  - يقوم النظام تلقائياً بتحديث حالة الطلب إلى "مكتمل"
  - لا يتطلب تدخل يدوي
  - يجب أن يطابق الدفع الطلب تماماً (المبلغ ورقم الطلب)

**FR-AD-009: عرض والبحث في الطلبات**
- **الوصف**: يجب أن يكون المديرون قادرين على عرض والبحث في الطلبات
- **الأولوية**: عالية
- **التفاصيل**:
  - عرض تفاصيل الطلب: العميل، المنتجات، الكميات، الأسعار، التواريخ
  - التصفية حسب الحالة، نطاق التاريخ، العميل، المحافظة
  - البحث برقم الطلب
  - تصدير بيانات الطلب

#### 3.2.4 إدارة المخزون

**FR-AD-010: تتبع المخزون**
- **الوصف**: يجب على النظام تتبع مستويات المخزون لجميع المنتجات
- **الأولوية**: عالية
- **التفاصيل**:
  - تتبع المخزون في الوقت الفعلي لكل منتج وتباين
  - عرض مستويات المخزون الحالية
  - تتبع حركات المخزون (داخل/خارج)
  - دعم مستودعات متعددة

**FR-AD-011: تحديثات المخزون التلقائية**
- **الوصف**: يجب أن يتم تحديث المخزون تلقائياً عند وضع الطلبات وإلغائها
- **الأولوية**: عالية
- **التفاصيل**:
  - عند تأكيد الطلب، يقوم النظام تلقائياً بتقليل المخزون
  - تحديث المخزون لكل تباين منتج فوراً عند وضع الطلب
  - إذا تم إلغاء الطلب، يقوم النظام تلقائياً باستعادة المخزون (زيادة المخزون مرة أخرى)
  - هذا يمنع البيع الزائد من خلال حجز المخزون عند وضع الطلب
  - التحقق من التوفر قبل تأكيد الطلب لمنع وضع طلبات للمنتجات غير المتوفرة

**FR-AD-012: تنبيهات المخزون المنخفض**
- **الوصف**: يجب على النظام تنبيه المديرين عندما ينخفض المخزون عن العتبة
- **الأولوية**: عالية
- **التفاصيل**:
  - عتبة قابلة للتكوين لكل منتج
  - تنبيه عبر إشعار لوحة التحكم
  - تنبيه عبر البريد الإلكتروني/SMS (قابل للتكوين)
  - قائمة بالعناصر منخفضة المخزون في لوحة التحكم
  - تنبيه عندما يصل المنتج إلى مخزون صفر

**FR-AD-013: واجهة إدارة المخزون**
- **الوصف**: يجب أن يكون المديرون قادرين على تعديل المخزون يدوياً
- **الأولوية**: متوسطة
- **التفاصيل**:
  - إضافة/إزالة المخزون يدوياً
  - تسجيل تعديلات المخزون مع السبب
  - عرض تاريخ المخزون
  - تحديثات المخزون بالكميات

#### 3.2.5 التقارير والتحليلات

**FR-AD-014: تقارير المبيعات**
- **الوصف**: يجب على النظام توليد تقارير المبيعات عند الحاجة
- **الأولوية**: عالية
- **التفاصيل**:
  - تقارير المبيعات اليومية
  - تقارير المبيعات الأسبوعية
  - تقارير المبيعات الشهرية
  - تقارير بنطاق تاريخ مخصص
  - تتضمن التقارير: إجمالي المبيعات، عدد الطلبات، متوسط قيمة الطلب، المنتجات الأكثر مبيعاً

**FR-AD-015: التقارير التشغيلية**
- **الوصف**: يجب على النظام توليد التقارير التشغيلية
- **الأولوية**: متوسطة
- **التفاصيل**:
  - توزيع حالة الطلب
  - تقارير اكتساب العملاء
  - تقارير أداء المنتجات
  - تقارير أداء التوصيل
  - تقارير دوران المخزون

**FR-AD-016: تصدير التقارير**
- **الوصف**: يجب أن تكون التقارير قابلة للتصدير بصيغ متعددة
- **الأولوية**: متوسطة
- **التفاصيل**:
  - التصدير إلى PDF
  - التصدير إلى Excel/CSV
  - طباعة التقارير

#### 3.2.6 إدارة التوصيل والشحن

**FR-AD-017: إدارة المحافظ**
- **الوصف**: يجب أن يكون المديرون قادرين على إدارة محافظ التوصيل
- **الأولوية**: عالية
- **التفاصيل**:
  - إضافة وتعديل وحذف المحافظ
  - تعيين رسوم التوصيل لكل محافظة
  - تفعيل/تعطيل التوصيل لمحافظ محددة
  - تعيين تقديرات وقت التوصيل لكل محافظة

**FR-AD-018: تكوين رسوم التوصيل**
- **الوصف**: يجب أن يكون المديرون قادرين على تكوين رسوم التوصيل
- **الأولوية**: عالية
- **التفاصيل**:
  - تعيين رسوم التوصيل الأساسية لكل محافظة
  - تعيين عتبة التوصيل المجاني (الحد الأدنى لمبلغ الطلب)
  - تعيين رسوم إضافية للمناطق النائية
  - تطبيق خصومات أو عروض على رسوم التوصيل

#### 3.2.7 إدارة الموظفين والأذونات (RBAC)

**FR-AD-019: إدارة الأدوار**
- **الوصف**: يجب أن يكون المديرون قادرين على إنشاء وإدارة أدوار مخصصة
- **الأولوية**: عالية
- **التفاصيل**:
  - إنشاء أدوار مخصصة (وليس أدوار ثابتة)
  - تعيين أسماء وصفية للأدوار
  - تعريف التسلسل الهرمي للأدوار (إن أمكن)
  - تفعيل/تعطيل الأدوار

**FR-AD-020: إدارة الأذونات**
- **الوصف**: يجب أن يكون المديرون قادرين على تعيين الأذونات للأدوار
- **الأولوية**: عالية
- **التفاصيل**:
  - يوفر النظام قائمة بالأذونات المتاحة
  - الأذونات منظمة حسب الوحدة (المنتجات، الطلبات، العملاء، إلخ)
  - تعيين عدة أذونات لدور
  - إزالة الأذونات من الأدوار
  - عرض جميع الأذونات المعينة لدور

**FR-AD-021: إدارة الموظفين**
- **الوصف**: يجب أن يكون المديرون قادرين على إدارة حسابات الموظفين
- **الأولوية**: عالية
- **التفاصيل**:
  - إنشاء حسابات الموظفين
  - تعيين الأدوار للموظفين
  - الموظفون يرثون الأذونات من الأدوار المعينة
  - تعطيل/تفعيل حسابات الموظفين
  - عرض سجلات نشاط الموظفين

**FR-AD-022: دقة الأذونات**
- **الوصف**: يجب أن تكون الأذونات دقيقة ومحددة
- **الأولوية**: عالية
- **التفاصيل**:
  - أمثلة على الأذونات: "عرض المنتجات"، "تعديل المنتجات"، "حذف المنتجات"، "عرض الطلبات"، "تحديث حالة الطلب"، "عرض التقارير"، إلخ
  - يجب أن تغطي الأذونات جميع العمليات الرئيسية
  - دعم للأذونات للقراءة فقط مقابل القراءة والكتابة

---

## 4. المتطلبات غير الوظيفية

### 4.1 متطلبات الأداء

**NFR-001: وقت الاستجابة**
- وقت تحميل الصفحة: < 2 ثانية
- نتائج البحث: < 1 ثانية
- معالجة الطلب: < 5 ثوان
- توليد التقارير: < 10 ثوان للتقارير القياسية

**NFR-002: قابلية التوسع**
- دعم حد أدنى 1,000 معاملة يومية
- دعم المستخدمين المتزامنين: 500+ عميل، 50+ مستخدم إدارة
- يجب أن تتعامل قاعدة البيانات مع 1,000,000+ منتج
- يجب أن يتوسع النظام أفقياً

**NFR-003: التوفر**
- وقت تشغيل النظام: 99.5% (حوالي 3.6 ساعة توقف شهرياً)
- نوافذ الصيانة المجدولة

### 4.2 متطلبات الأمان

**NFR-004: أمان البيانات**
- جميع البيانات المرسلة عبر HTTPS
- كلمات المرور مخزنة باستخدام hashing آمن
- البيانات الحساسة مشفرة عند الراحة
- منع SQL injection

**NFR-005: أمان Authentication**
- متطلبات كلمة مرور قوية
- authentication قائم على الرموز المميزة
- انتهاء الجلسة بعد عدم النشاط
- الحماية ضد هجمات brute force
- انتهاء صلاحية OTP والاستخدام الواحد

**NFR-006: أمان Authorization**
- التحكم في الوصول القائم على الأدوار مفروض على مستوى API
- مبدأ أقل امتياز
- سجلات التدقيق للعمليات الحساسة

### 4.3 متطلبات سهولة الاستخدام

**NFR-007: واجهة المستخدم**
- واجهة بديهية وسهلة الاستخدام
- تصميم متجاوب (موبايل، لوحي، سطح مكتب)
- دعم اللغتين العربية والإنجليزية

**NFR-008: تجربة المستخدم**
- تنقل واضح ومعمارية معلومات
- رسائل خطأ مفيدة
- مؤشرات التحميل للعمليات الطويلة
- لغة تصميم متسقة

### 4.4 متطلبات الموثوقية

**NFR-009: سلامة البيانات**
- اتساق المعاملات
- التحقق من البيانات في جميع نقاط الدخول
- إجراءات النسخ الاحتياطي والاستعادة
- تكرار البيانات

**NFR-010: معالجة الأخطاء**
- معالجة أخطاء متسامحة
- رسائل خطأ سهلة الفهم للمستخدم
- تسجيل ومراقبة الأخطاء
- إعادة المحاولة التلقائية للأعطال العابرة

### 4.5 متطلبات التوافق

**NFR-011: دعم المتصفحات**
- المتصفحات الحديثة (Chrome، Firefox، Safari، Edge)
- متصفحات الموبايل (iOS Safari، Chrome Mobile)

**NFR-012: دعم الأجهزة**
- أجهزة الكمبيوتر المكتبية
- الأجهزة اللوحية
- الهواتف المحمولة
- تصميم متجاوب لجميع أحجام الشاشات

### 4.6 متطلبات القابلية للصيانة

**NFR-013: جودة الكود**
- كود موثق جيداً
- اتباع معايير البرمجة
- معمارية معيارية
- اختبارات الوحدة والتكامل

**NFR-014: التوثيق**
- التوثيق التقني
- أدلة المستخدم
- توثيق API
- أدلة النشر

---

## 5. التحسينات المستقبلية (خارج النطاق)

- تطبيقات الموبايل الأصلية (iOS/Android)
- نظام تقييمات ومراجعات العملاء
- وظيفة قائمة الأمنيات
- توصيات المنتجات
- برنامج الولاء
- توسيع دعم اللغات المتعددة
- تحليلات متقدمة وتوصيات AI
- التكامل مع وسائل التواصل الاجتماعي
- دعم الدردشة المباشرة

---

## الملحق أ: مخططات حالات الاستخدام
<we-will-add-use-case-diagram-here>

## الملحق ب: مخططات علاقات الكيانات
<we-will-replace-this-with-class-diagram>

---
**نهاية المستند**

